(()=>{var e={};e.id=550,e.ids=[550],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(5053),r(8605),r(5305),r(7161),r(6560);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["patients",{children:["[id]",{children:["print",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5053)),"C:\\Users\\billa\\Downloads\\clinique-hariri-patient-management\\app\\patients\\[id]\\print\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8605)),"C:\\Users\\billa\\Downloads\\clinique-hariri-patient-management\\app\\patients\\[id]\\print\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5305)),"C:\\Users\\billa\\Downloads\\clinique-hariri-patient-management\\app\\patients\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7161)),"C:\\Users\\billa\\Downloads\\clinique-hariri-patient-management\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,6560)),"C:\\Users\\billa\\Downloads\\clinique-hariri-patient-management\\app\\not-found.tsx"]}],d=["C:\\Users\\billa\\Downloads\\clinique-hariri-patient-management\\app\\patients\\[id]\\print\\page.tsx"],p="/patients/[id]/print/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/patients/[id]/print/page",pathname:"/patients/[id]/print",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3513:(e,t,r)=>{Promise.resolve().then(r.bind(r,7948))},9708:(e,t,r)=>{Promise.resolve().then(r.bind(r,2484))},5303:()=>{},7948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(326);r(7577);var s=r(8129),i=r(58),n=r(5047);function o({children:e}){let t=(0,n.usePathname)();return a.jsx(s.M,{mode:"wait",children:a.jsx(i.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.3},children:e},t)})}},2484:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(326),s=r(7577),i=r(8399),n=r(8448),o=r(9007),l=r(9420);let c=({patientId:e})=>{let{data:t,error:r,isLoading:c}=(0,i.ZP)(`patient_${e}`,()=>(0,n.YR)(e));if((0,s.useEffect)(()=>{if(t&&!c){let e=setTimeout(()=>{window.print()},500);return()=>clearTimeout(e)}},[c,t]),c)return a.jsx("div",{className:"flex h-screen items-center justify-center",children:a.jsx(o.Z,{})});if(r||!t)return a.jsx("div",{className:"p-8 text-center",children:"لم يتم العثور على المريض."});let d=(0,l.o)(new Date,new Date(t.birthdate));return a.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-200",children:(0,a.jsxs)("div",{id:"printable-area",className:"relative w-[498px] h-[225px] bg-white shadow-lg overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-12 bg-gray-700 flex items-center px-4 z-10",children:a.jsx("p",{className:"text-white text-xs font-bold",children:"VOUS ETES ENTRE LES BONNES MAINS"})}),a.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-16 bg-green-500 transform -skew-x-12 origin-top-left"}),a.jsx("div",{className:"absolute top-0 right-16 w-1/2 h-16 bg-blue-500 transform -skew-x-12 origin-top-left"}),a.jsx("div",{className:"absolute top-1/2 right-4 transform -translate-y-1/2 w-32 h-32 bg-repeat",style:{backgroundImage:"radial-gradient(#a0aec0 1px, transparent 1px)",backgroundSize:"8px 8px"}}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-10 bg-blue-500"}),(0,a.jsxs)("div",{className:"relative z-20 p-4 flex items-center h-full",children:[(0,a.jsxs)("div",{className:"w-1/3 text-center",children:[a.jsx("div",{className:"mx-auto w-24 h-24 rounded-full bg-green-100 flex items-center justify-center border-4 border-white shadow-md",children:a.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsx("h2",{className:"text-sm font-bold mt-2",children:"CLINIQUE HARIRI"}),a.jsx("p",{className:"text-xs",children:"INTERNATIONALE"}),a.jsx("p",{className:"text-xs",children:"مستشفى الحريري العالمي"})]}),(0,a.jsxs)("div",{className:"w-2/3 pr-4",children:[a.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"CARTE DE SANTE"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[a.jsx("p",{className:"font-bold",children:"Nom:"}),a.jsx("p",{children:t.fullname}),a.jsx("p",{className:"font-bold",children:"Matricule ID:"}),a.jsx("p",{children:t.patient_number}),a.jsx("p",{className:"font-bold",children:"Age:"}),(0,a.jsxs)("p",{children:[d," ANS"]}),a.jsx("p",{className:"font-bold",children:"Adresse:"}),a.jsx("p",{children:t.full_address})]})]})]})]})})}},9007:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(326);r(7577);let s=()=>a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",children:a.jsx("div",{className:"h-16 w-16",children:(0,a.jsxs)("svg",{className:"animate-spin text-brand-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},8448:(e,t,r)=>{"use strict";r.d(t,{b$:()=>d,hT:()=>u,pd:()=>m,Mp:()=>h,YR:()=>c,X4:()=>l,xu:()=>p});var a=r(4464);let s="118|Iz5rNFTyoKSqkjyKcYPkYGEidKSVyaykGex8shduf2115e5b",i=a.Z.create({baseURL:"https://erp-api.cliniquehariri.com/api/v1",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});i.interceptors.request.use(e=>(s&&(e.headers.Authorization=`Bearer ${s}`),e),e=>Promise.reject(e));let n=a.Z.create({withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});async function o(){}n.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),Promise.reject(e)));let l=async(e={})=>{try{let t=await i.get("/patients",{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",paginate:!0,doctor_id:"1"}});return{data:t.data.data,meta:t.data.meta}}catch(e){throw console.error("Error fetching patients:",e),e}},c=async e=>{try{return(await i.get(`/patients/${e}`)).data.data}catch(t){throw console.error(`Error fetching patient with ID ${e}:`,t),t}},d=async e=>{try{await o();let t=document.cookie.split(";").map(e=>e.trim()),r=null;for(let e of t)if(e.startsWith("XSRF-TOKEN=")||e.startsWith("X-XSRF-TOKEN=")||e.toLowerCase().startsWith("xsrf-token=")){r=decodeURIComponent(e.split("=")[1]);break}if(!r)throw Error("CSRF token not found in cookies");if(!(e.avatar&&"string"==typeof e.avatar&&e.avatar.startsWith("data:")))return(await n.post("/patients",e,{headers:{"X-XSRF-TOKEN":r}})).data.data;{let t=new FormData,a=await fetch(e.avatar),s=await a.blob();return t.append("avatar",s,"avatar.jpg"),Object.entries(e).forEach(([e,r])=>{"avatar"!==e&&null!=r&&t.append(e,r.toString())}),(await n.post("/patients",t,{headers:{"Content-Type":"multipart/form-data","X-XSRF-TOKEN":r}})).data.data}}catch(e){throw console.error("Error adding patient:",e),e}},p=async(e,t)=>{try{await o();let r=document.cookie.split(";").map(e=>e.trim()),a=null;for(let e of r)if(e.startsWith("XSRF-TOKEN=")||e.startsWith("X-XSRF-TOKEN=")||e.toLowerCase().startsWith("xsrf-token=")){a=decodeURIComponent(e.split("=")[1]);break}if(!a)throw Error("CSRF token not found in cookies");if(!(t.avatar&&"string"==typeof t.avatar&&t.avatar.startsWith("data:")))return(await n.put(`/patients/${e}`,t,{headers:{"X-XSRF-TOKEN":a}})).data.data;{let r=new FormData,s=await fetch(t.avatar),i=await s.blob();return r.append("avatar",i,"avatar.jpg"),Object.entries(t).forEach(([e,t])=>{"avatar"!==e&&null!=t&&r.append(e,t.toString())}),r.append("_method","PUT"),(await n.post(`/patients/${e}`,r,{headers:{"Content-Type":"multipart/form-data","X-XSRF-TOKEN":a}})).data.data}}catch(t){throw console.error(`Error updating patient with ID ${e}:`,t),t}},u=async e=>{try{await o();let t=document.cookie.split(";").map(e=>e.trim()),r=null;for(let e of t)if(e.startsWith("XSRF-TOKEN=")||e.startsWith("X-XSRF-TOKEN=")||e.toLowerCase().startsWith("xsrf-token=")){r=decodeURIComponent(e.split("=")[1]);break}if(!r)throw Error("CSRF token not found in cookies");return await n.delete(`/patients/${e}`,{headers:{"X-XSRF-TOKEN":r}}),!0}catch(t){throw console.error(`Error deleting patient with ID ${e}:`,t),t}},h=async e=>{try{return(await i.get(`/patients/${e}/medical-services`)).data.data}catch(t){return console.error(`Error fetching medical services for patient ${e}:`,t),[]}},m=async e=>{try{return(await i.get(`/patients/${e}/medical-records`)).data.data}catch(t){return console.error(`Error fetching medical records for patient ${e}:`,t),[]}}},8605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>s});var a=r(9510);r(1159);let s={title:"Print Patient Card"};function i({children:e}){return a.jsx("html",{lang:"ar",dir:"rtl",children:(0,a.jsxs)("body",{children:[e,a.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            body * {
              visibility: hidden;
            }
            #printable-area, #printable-area * {
              visibility: visible;
            }
            #printable-area {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
            }
          }
        `}})]})})}},5053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(9510),s=r(8570);let i=(0,s.createProxy)(String.raw`C:\Users\billa\Downloads\clinique-hariri-patient-management\components\patients\PrintPatientCard.tsx`),{__esModule:n,$$typeof:o}=i;i.default;let l=(0,s.createProxy)(String.raw`C:\Users\billa\Downloads\clinique-hariri-patient-management\components\patients\PrintPatientCard.tsx#default`);function c({params:e}){return a.jsx(l,{patientId:e.id})}},5305:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(8570);let s=(0,a.createProxy)(String.raw`C:\Users\billa\Downloads\clinique-hariri-patient-management\app\patients\layout.tsx`),{__esModule:i,$$typeof:n}=s;s.default;let o=(0,a.createProxy)(String.raw`C:\Users\billa\Downloads\clinique-hariri-patient-management\app\patients\layout.tsx#default`)},9420:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var a=r(1271);function s(e,t){let r=(0,a.Q)(e),s=(0,a.Q)(t),i=r.getTime()-s.getTime();return i<0?-1:i>0?1:i}function i(e,t){let r=(0,a.Q)(e),i=(0,a.Q)(t),n=s(r,i),o=Math.abs(function(e,t){let r=(0,a.Q)(e),s=(0,a.Q)(t);return r.getFullYear()-s.getFullYear()}(r,i));r.setFullYear(1584),i.setFullYear(1584);let l=s(r,i)===-n,c=n*(o-+l);return 0===c?0:c}},1271:(e,t,r)=>{"use strict";function a(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}r.d(t,{Q:()=>a})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[189,464,399,274],()=>r(6602));module.exports=a})();