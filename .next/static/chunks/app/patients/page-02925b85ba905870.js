(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{4836:function(e,t,r){Promise.resolve().then(r.bind(r,5441))},5441:function(e,t,r){"use strict";r.d(t,{default:function(){return C}});var a=r(7437),n=r(2265),s=r(7138),o=r(6463),i=r(4304),l=r(1513),c=r(7619);let d=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),u=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}),h=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}),x=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),m=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}),g=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),p=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});var b=r(9248),f=r(5101),w=r(832),y=r(4538);let v=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),j=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});var k=e=>{let{currentPage:t,totalPages:r,perPage:n}=e,s=(0,o.usePathname)(),i=(0,o.useSearchParams)(),l=(0,o.useRouter)(),c=e=>{let t=new URLSearchParams(i);return t.set("page",e.toString()),"".concat(s,"?").concat(t.toString())},d=e=>{e>=1&&e<=r&&l.push(c(e))};return(0,a.jsx)("div",{className:"mt-6 flex items-center justify-center",children:(0,a.jsxs)("nav",{className:"flex items-center gap-4 text-sm text-brand-blue",dir:"ltr",children:[(0,a.jsxs)("button",{onClick:()=>d(t-1),disabled:t<=1,className:"flex items-center gap-1 text-brand-blue transition-colors hover:text-brand-blue/80 disabled:opacity-50",children:[(0,a.jsx)(v,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"السابقة"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 ",children:(()=>{let e=[];return e.push((0,a.jsx)("button",{onClick:()=>d(1),className:"flex h-8 w-8 items-center justify-center transition-colors ".concat(1===t?"text-brand-blue font-bold":"text-gray-600"),children:"1"},"first")),r>1&&(r>3&&t>1&&t<r?e.push((0,a.jsx)("button",{onClick:()=>d(t),className:"flex h-8 w-8 items-center justify-center text-brand-blue font-bold",children:t},t)):r>2&&e.push((0,a.jsx)("button",{onClick:()=>d(2),className:"flex h-8 w-8 items-center justify-center transition-colors ".concat(2===t?"text-brand-blue font-bold":"text-gray-600"),children:"2"},2)),r>2&&r<=4&&e.push((0,a.jsx)("button",{onClick:()=>d(3),className:"flex h-8 w-8 items-center justify-center transition-colors ".concat(3===t?"text-brand-blue font-bold":"text-gray-600"),children:"3"},3)),4===r&&e.push((0,a.jsx)("button",{onClick:()=>d(4),className:"flex h-8 w-8 items-center justify-center transition-colors ".concat(4===t?"text-brand-blue font-bold":"text-gray-600"),children:"4"},4)),r>4&&e.push((0,a.jsx)("span",{className:"px-1 text-gray-500",children:"..."},"ellipsis")),r>4&&e.push((0,a.jsx)("button",{onClick:()=>d(r),className:"flex h-8 w-8 items-center justify-center transition-colors ".concat(t===r?"text-brand-blue font-bold":"text-gray-600"),children:r},r))),e})()}),(0,a.jsxs)("button",{onClick:()=>d(t+1),disabled:t>=r,className:"flex items-center gap-1 text-brand-blue transition-colors hover:text-brand-blue/80 disabled:opacity-50",children:[(0,a.jsx)("span",{children:"التالية"}),(0,a.jsx)(j,{className:"h-4 w-4"})]})]})})},N=r(8726);let E=()=>{var e;let t=(0,o.useRouter)(),r=(0,o.usePathname)(),v=(0,o.useSearchParams)(),j=Number(v.get("page"))||1,E=Number(v.get("per_page"))||10,C=v.get("search")||"",[L,R]=(0,n.useState)(C),[S,Z]=(0,n.useState)(!1),[O,W]=(0,n.useState)(null),X=function(e,t){let[r,a]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let t=setTimeout(()=>{a(e)},300);return()=>{clearTimeout(t)}},[e,300]),r}(L,0);n.useEffect(()=>{let e=new URLSearchParams(v);e.set("search",X),e.set("page","1"),t.push("".concat(r,"?").concat(e.toString()))},[X,r,t]);let{data:_,error:P,isLoading:M,mutate:T}=(0,i.ZP)("/patients?page=".concat(j,"&per_page=").concat(E,"&search=").concat(X),()=>(0,c.X4)({page:j,per_page:E,search:X})),F=null!==(e=null==_?void 0:_.data)&&void 0!==e?e:[],A=null==_?void 0:_.meta,H=e=>{W(e),Z(!0)},K=async()=>{if(O)try{await (0,c.hT)(String(O)),N.ZP.success("تم حذف المريض بنجاح"),T()}catch(a){var e,t;let r=(null==a?void 0:null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||a.message||"فشل في حذف المريض";N.ZP.error(r)}finally{Z(!1),W(null)}},B=e=>{let a=new URLSearchParams(v);a.set("per_page",e.toString()),a.set("page","1"),t.push("".concat(r,"?").concat(a.toString()))};return(0,a.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md dark:bg-gray-800",children:[(0,a.jsx)(y.Z,{title:"قائمة المرضى",subtitle:"إدخال وإدارة المرضى بكل سهولة"}),(0,a.jsxs)("div",{className:"mb-6 flex flex-wrap items-center gap-4 justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative max-w-md flex-grow",children:[(0,a.jsx)("input",{type:"text",placeholder:"بحث",className:"w-full rounded-lg border border-gray-300 bg-white py-2 pe-10 ps-4 text-sm focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue dark:border-gray-600 dark:bg-gray-700/50 dark:text-white",value:L,onChange:e=>R(e.target.value)}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 end-0 flex items-center pe-3",children:(0,a.jsx)(d,{className:"h-5 w-5 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("select",{className:"rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-600 transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-brand-blue dark:border-gray-600 dark:bg-gray-700/50 dark:text-gray-300 dark:hover:bg-gray-700",value:E,onChange:e=>B(Number(e.target.value)),children:[(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"20",children:"20"}),(0,a.jsx)("option",{value:"50",children:"50"})]}),(0,a.jsx)("button",{className:"flex items-center rounded-lg border border-gray-300 bg-brand-blue px-3 py-2 text-white transition-colors hover:bg-brand-blue/90 dark:border-gray-600  dark:text-gray-300 dark:hover:bg-gray-700",children:(0,a.jsx)(u,{className:"h-5 w-5"})}),(0,a.jsx)("button",{className:"flex items-center rounded-lg border border-gray-300 bg-brand-blue px-3 py-2 text-white transition-colors hover:bg-brand-blue/90 dark:border-gray-600  dark:text-gray-300 dark:hover:bg-gray-700",children:(0,a.jsx)(h,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)(s.default,{href:"/patients/new",className:"flex items-center rounded-lg bg-brand-blue px-4 py-2 text-white shadow transition-colors hover:bg-brand-blue/90",children:[(0,a.jsx)(x,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"me-2",children:"إضافة مريض جديد"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("table",{className:"w-full text-center",dir:"rtl",children:[(0,a.jsx)("thead",{className:"bg-[#E8F6F8] dark:bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-200",children:(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-200",children:"#"}),(0,a.jsx)("th",{className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-200",children:"المعرف"}),(0,a.jsx)("th",{className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-200",children:"المريض"}),(0,a.jsx)("th",{className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-200",children:"تاريخ التسجيل"}),(0,a.jsx)("th",{className:"px-4 py-3 text-sm font-semibold text-gray-700 dark:text-gray-200",children:"الإجراء"})]})}),(0,a.jsx)("tbody",{className:"bg-white dark:bg-gray-800",children:M?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-8 text-center",children:(0,a.jsx)(f.Z,{})})}):P?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-8 text-center text-red-500",children:"فشل في تحميل البيانات."})}):0===F.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"لا يوجد مرضى لعرضهم."})}):F.map((e,r)=>(0,a.jsxs)(l.E.tr,{className:"border-b border-gray-100 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700/50",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300",children:A?(A.current_page-1)*A.per_page+r+1:r+1}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-mono text-gray-700 dark:text-gray-300",children:e.patient_number||"1234"}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.fullname})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300",children:new Date(e.created_at).toLocaleDateString("ar-DZ")}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex gap-1 justify-center",dir:"ltr",children:[(0,a.jsx)("button",{onClick:()=>t.push("/patients/".concat(e.id,"/edit")),className:"rounded-full bg-green-100 p-1.5 text-green-600 transition-colors hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400 dark:hover:bg-green-900/50",children:(0,a.jsx)(m,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>t.push("/patients/".concat(e.id,"/details")),className:"rounded-full bg-blue-100 p-1.5 text-blue-600 transition-colors hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",children:(0,a.jsx)(g,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>H(e.id),className:"rounded-full bg-red-100 p-1.5 text-red-600 transition-colors hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50",children:(0,a.jsx)(p,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>t.push("/patients/".concat(e.id,"/archive")),className:"rounded-full bg-yellow-100 p-1.5 text-yellow-600 transition-colors hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:hover:bg-yellow-900/50",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),A&&(0,a.jsx)(k,{currentPage:A.current_page,totalPages:A.last_page,perPage:A.per_page}),(0,a.jsx)(w.Z,{isOpen:S,onClose:()=>Z(!1),onConfirm:K,title:"تأكيد الحذف",confirmText:"حذف",children:(0,a.jsx)("p",{children:"هل أنت متأكد من أنك تريد حذف هذا المريض؟ لا يمكن التراجع عن هذا الإجراء."})})]})};var C=()=>(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{className:"flex h-96 w-full items-center justify-center",children:(0,a.jsx)(f.Z,{})}),children:(0,a.jsx)(E,{})})},832:function(e,t,r){"use strict";var a=r(7437);r(2265);var n=r(4446),s=r(1513);t.Z=e=>{let{isOpen:t,onClose:r,onConfirm:o,onCancel:i,title:l,children:c,confirmText:d,cancelText:u,showIcon:h=!1,size:x="md"}=e;return(0,a.jsx)(n.M,{children:t&&(0,a.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:r,children:(0,a.jsxs)(s.E.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-30,scale:.95},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[x]," text-center"),onClick:e=>e.stopPropagation(),children:[h&&(0,a.jsx)("div",{className:"mx-auto w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-green-500 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:l}),(0,a.jsx)("div",{className:"text-gray-600 dark:text-gray-300 mb-8",children:c}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[i&&(0,a.jsx)("button",{onClick:i,className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:u||"إلغاء"}),o&&(0,a.jsx)("button",{onClick:o,className:"px-6 py-2 rounded-lg text-white ".concat("حذف"===d?"bg-red-500 hover:bg-red-600":"bg-brand-blue hover:bg-brand-blue/90"),children:d||"تأكيد"})]})]})})})}},4538:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{title:t,subtitle:r,actions:n}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:t}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:r})]}),n&&(0,a.jsx)("div",{children:n})]})}},5101:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=()=>(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",children:(0,a.jsx)("div",{className:"h-16 w-16",children:(0,a.jsxs)("svg",{className:"animate-spin text-brand-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(231),n=r.n(a)},291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return a}});let a=r(9920)._(r(2265)).default.createContext(null)},7619:function(e,t,r){"use strict";r.d(t,{b$:function(){return u},hT:function(){return x},pd:function(){return g},Mp:function(){return m},YR:function(){return d},X4:function(){return c},xu:function(){return h}});var a=r(8472);let n="https://erp-api.cliniquehariri.com/api/v1",s="118|Iz5rNFTyoKSqkjyKcYPkYGEidKSVyaykGex8shduf2115e5b",o=a.Z.create({baseURL:n,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});o.interceptors.request.use(e=>(s&&(e.headers.Authorization="Bearer ".concat(s)),e),e=>Promise.reject(e));let i=a.Z.create({withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});async function l(){try{let e=new URL(n).origin;await i.get("".concat(e,"/sanctum/csrf-cookie"),{withCredentials:!0,headers:{Accept:"application/json"}})}catch(e){throw console.error("Error fetching CSRF token:",e),e}}i.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),Promise.reject(e)));let c=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=await o.get("/patients",{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",paginate:!0,doctor_id:"1"}});return{data:t.data.data,meta:t.data.meta}}catch(e){throw console.error("Error fetching patients:",e),e}},d=async e=>{try{return(await o.get("/patients/".concat(e))).data.data}catch(t){throw console.error("Error fetching patient with ID ".concat(e,":"),t),t}},u=async e=>{try{await l();let t=document.cookie.split(";").map(e=>e.trim()),r=null;for(let e of t)if(e.startsWith("XSRF-TOKEN=")||e.startsWith("X-XSRF-TOKEN=")||e.toLowerCase().startsWith("xsrf-token=")){r=decodeURIComponent(e.split("=")[1]);break}if(!r)throw Error("CSRF token not found in cookies");if(!(e.avatar&&"string"==typeof e.avatar&&e.avatar.startsWith("data:")))return(await i.post("/patients",e,{headers:{"X-XSRF-TOKEN":r}})).data.data;{let t=new FormData,a=await fetch(e.avatar),n=await a.blob();return t.append("avatar",n,"avatar.jpg"),Object.entries(e).forEach(e=>{let[r,a]=e;"avatar"!==r&&null!=a&&t.append(r,a.toString())}),(await i.post("/patients",t,{headers:{"Content-Type":"multipart/form-data","X-XSRF-TOKEN":r}})).data.data}}catch(e){throw console.error("Error adding patient:",e),e}},h=async(e,t)=>{try{await l();let r=document.cookie.split(";").map(e=>e.trim()),a=null;for(let e of r)if(e.startsWith("XSRF-TOKEN=")||e.startsWith("X-XSRF-TOKEN=")||e.toLowerCase().startsWith("xsrf-token=")){a=decodeURIComponent(e.split("=")[1]);break}if(!a)throw Error("CSRF token not found in cookies");if(!(t.avatar&&"string"==typeof t.avatar&&t.avatar.startsWith("data:")))return(await i.put("/patients/".concat(e),t,{headers:{"X-XSRF-TOKEN":a}})).data.data;{let r=new FormData,n=await fetch(t.avatar),s=await n.blob();return r.append("avatar",s,"avatar.jpg"),Object.entries(t).forEach(e=>{let[t,a]=e;"avatar"!==t&&null!=a&&r.append(t,a.toString())}),r.append("_method","PUT"),(await i.post("/patients/".concat(e),r,{headers:{"Content-Type":"multipart/form-data","X-XSRF-TOKEN":a}})).data.data}}catch(t){throw console.error("Error updating patient with ID ".concat(e,":"),t),t}},x=async e=>{try{await l();let t=document.cookie.split(";").map(e=>e.trim()),r=null;for(let e of t)if(e.startsWith("XSRF-TOKEN=")||e.startsWith("X-XSRF-TOKEN=")||e.toLowerCase().startsWith("xsrf-token=")){r=decodeURIComponent(e.split("=")[1]);break}if(!r)throw Error("CSRF token not found in cookies");return await i.delete("/patients/".concat(e),{headers:{"X-XSRF-TOKEN":r}}),!0}catch(t){throw console.error("Error deleting patient with ID ".concat(e,":"),t),t}},m=async e=>{try{return(await o.get("/patients/".concat(e,"/medical-services"))).data.data}catch(t){return console.error("Error fetching medical services for patient ".concat(e,":"),t),[]}},g=async e=>{try{return(await o.get("/patients/".concat(e,"/medical-records"))).data.data}catch(t){return console.error("Error fetching medical records for patient ".concat(e,":"),t),[]}}},9248:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))});t.Z=n}},function(e){e.O(0,[472,304,59,231,726,971,23,744],function(){return e(e.s=4836)}),_N_E=e.O()}]);