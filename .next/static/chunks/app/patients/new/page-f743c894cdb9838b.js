(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{5e3:function(e,t,r){Promise.resolve().then(r.bind(r,7203))},7203:function(e,t,r){"use strict";r.d(t,{default:function(){return m}});var a=r(7437),n=r(2265),s=r(6463),l=r(7619),i=r(5101),o=r(9977),c=r(832),d=r(4538),x=r(4573);let u=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});var g=r(8726),m=()=>{let[e,t]=(0,n.useState)(!1),[r,m]=(0,n.useState)(!1),[h,b]=(0,n.useState)(null),p=(0,s.useRouter)(),y=async e=>{t(!0);try{let t=await (0,l.b$)(e);b(t.id),m(!0),g.ZP.success("تم إضافة المريض بنجاح")}catch(e){g.ZP.error("فشل في إضافة المريض"),console.error(e)}finally{t(!1)}},f=()=>{m(!1),p.push("/patients")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{title:"إضافة مريض جديد",subtitle:"إضافة معلومات المريض",actions:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>p.back(),className:"flex items-center rounded-lg bg-gray-100 px-4 py-2 text-gray-800 transition-colors hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"me-2",children:"إلغاء"})]}),(0,a.jsxs)("button",{type:"submit",form:"patient-form",disabled:e,className:"flex items-center rounded-lg bg-brand-blue px-4 py-2 text-white shadow transition-colors hover:bg-brand-blue/90 disabled:opacity-50",children:[(0,a.jsx)(u,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"me-2",children:"حفظ"})]})]})}),e?(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(i.Z,{})}):(0,a.jsx)(o.Z,{onSave:y}),(0,a.jsx)(c.Z,{isOpen:r,onClose:f,title:"تم حفظ المعلومات بنجاح",confirmText:"طباعة",onConfirm:()=>{h&&window.open("/patients/".concat(h,"/print"),"_blank")},cancelText:"الرجوع إلى الاستقبال",onCancel:f,showIcon:!0,children:(0,a.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"تم الحفظ بنجاح. هل تريد طباعة البطاقة؟"})})]})}},832:function(e,t,r){"use strict";var a=r(7437);r(2265);var n=r(4446),s=r(1513);t.Z=e=>{let{isOpen:t,onClose:r,onConfirm:l,onCancel:i,title:o,children:c,confirmText:d,cancelText:x,showIcon:u=!1,size:g="md"}=e;return(0,a.jsx)(n.M,{children:t&&(0,a.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:r,children:(0,a.jsxs)(s.E.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-30,scale:.95},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[g]," text-center"),onClick:e=>e.stopPropagation(),children:[u&&(0,a.jsx)("div",{className:"mx-auto w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-green-500 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:o}),(0,a.jsx)("div",{className:"text-gray-600 dark:text-gray-300 mb-8",children:c}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[i&&(0,a.jsx)("button",{onClick:i,className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:x||"إلغاء"}),l&&(0,a.jsx)("button",{onClick:l,className:"px-6 py-2 rounded-lg text-white ".concat("حذف"===d?"bg-red-500 hover:bg-red-600":"bg-brand-blue hover:bg-brand-blue/90"),children:d||"تأكيد"})]})]})})})}},4573:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=n}},function(e){e.O(0,[472,648,59,726,997,971,23,744],function(){return e(e.s=5e3)}),_N_E=e.O()}]);